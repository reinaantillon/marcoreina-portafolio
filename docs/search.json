[
  {
    "objectID": "starter-analysis-exercise/starter-analysis-exercise.html",
    "href": "starter-analysis-exercise/starter-analysis-exercise.html",
    "title": "Future Exercise",
    "section": "",
    "text": "library(dslabs)\n\nWarning: package 'dslabs' was built under R version 4.5.2\n\n# only run the next command interactively, not in a script\n# help(gapminder)  \n# get an overview of data structure\nstr(gapminder)\n\n'data.frame':   10545 obs. of  9 variables:\n $ country         : Factor w/ 185 levels \"Albania\",\"Algeria\",..: 1 2 3 4 5 6 7 8 9 10 ...\n $ year            : int  1960 1960 1960 1960 1960 1960 1960 1960 1960 1960 ...\n $ infant_mortality: num  115.4 148.2 208 NA 59.9 ...\n $ life_expectancy : num  62.9 47.5 36 63 65.4 ...\n $ fertility       : num  6.19 7.65 7.32 4.43 3.11 4.55 4.82 3.45 2.7 5.57 ...\n $ population      : num  1636054 11124892 5270844 54681 20619075 ...\n $ gdp             : num  NA 1.38e+10 NA NA 1.08e+11 ...\n $ continent       : Factor w/ 5 levels \"Africa\",\"Americas\",..: 4 1 1 2 2 3 2 5 4 3 ...\n $ region          : Factor w/ 22 levels \"Australia and New Zealand\",..: 19 11 10 2 15 21 2 1 22 21 ...\n\n# get a summary of data\nsummary(gapminder)\n\n                country           year      infant_mortality life_expectancy\n Albania            :   57   Min.   :1960   Min.   :  1.50   Min.   :13.20  \n Algeria            :   57   1st Qu.:1974   1st Qu.: 16.00   1st Qu.:57.50  \n Angola             :   57   Median :1988   Median : 41.50   Median :67.54  \n Antigua and Barbuda:   57   Mean   :1988   Mean   : 55.31   Mean   :64.81  \n Argentina          :   57   3rd Qu.:2002   3rd Qu.: 85.10   3rd Qu.:73.00  \n Armenia            :   57   Max.   :2016   Max.   :276.90   Max.   :83.90  \n (Other)            :10203                  NA's   :1453                    \n   fertility       population             gdp               continent   \n Min.   :0.840   Min.   :3.124e+04   Min.   :4.040e+07   Africa  :2907  \n 1st Qu.:2.200   1st Qu.:1.333e+06   1st Qu.:1.846e+09   Americas:2052  \n Median :3.750   Median :5.009e+06   Median :7.794e+09   Asia    :2679  \n Mean   :4.084   Mean   :2.701e+07   Mean   :1.480e+11   Europe  :2223  \n 3rd Qu.:6.000   3rd Qu.:1.523e+07   3rd Qu.:5.540e+10   Oceania : 684  \n Max.   :9.220   Max.   :1.376e+09   Max.   :1.174e+13                  \n NA's   :187     NA's   :185         NA's   :2972                       \n             region    \n Western Asia   :1026  \n Eastern Africa : 912  \n Western Africa : 912  \n Caribbean      : 741  \n South America  : 684  \n Southern Europe: 684  \n (Other)        :5586  \n\n# determine the type of object gapminder is\nclass(gapminder)\n\n[1] \"data.frame\"\n\n\n\nafricandata &lt;- subset(gapminder, continent %in% \"Africa\") #subsetting data for african countries\n\n# get an overview of data structure\nstr(africandata)\n\n'data.frame':   2907 obs. of  9 variables:\n $ country         : Factor w/ 185 levels \"Albania\",\"Algeria\",..: 2 3 18 22 26 27 29 31 32 33 ...\n $ year            : int  1960 1960 1960 1960 1960 1960 1960 1960 1960 1960 ...\n $ infant_mortality: num  148 208 187 116 161 ...\n $ life_expectancy : num  47.5 36 38.3 50.3 35.2 ...\n $ fertility       : num  7.65 7.32 6.28 6.62 6.29 6.95 5.65 6.89 5.84 6.25 ...\n $ population      : num  11124892 5270844 2431620 524029 4829291 ...\n $ gdp             : num  1.38e+10 NA 6.22e+08 1.24e+08 5.97e+08 ...\n $ continent       : Factor w/ 5 levels \"Africa\",\"Americas\",..: 1 1 1 1 1 1 1 1 1 1 ...\n $ region          : Factor w/ 22 levels \"Australia and New Zealand\",..: 11 10 20 17 20 5 10 20 10 10 ...\n\n# get a summary of data\nsummary(africandata)\n\n         country          year      infant_mortality life_expectancy\n Algeria     :  57   Min.   :1960   Min.   : 11.40   Min.   :13.20  \n Angola      :  57   1st Qu.:1974   1st Qu.: 62.20   1st Qu.:48.23  \n Benin       :  57   Median :1988   Median : 93.40   Median :53.98  \n Botswana    :  57   Mean   :1988   Mean   : 95.12   Mean   :54.38  \n Burkina Faso:  57   3rd Qu.:2002   3rd Qu.:124.70   3rd Qu.:60.10  \n Burundi     :  57   Max.   :2016   Max.   :237.40   Max.   :77.60  \n (Other)     :2565                  NA's   :226                     \n   fertility       population             gdp               continent   \n Min.   :1.500   Min.   :    41538   Min.   :4.659e+07   Africa  :2907  \n 1st Qu.:5.160   1st Qu.:  1605232   1st Qu.:8.373e+08   Americas:   0  \n Median :6.160   Median :  5570982   Median :2.448e+09   Asia    :   0  \n Mean   :5.851   Mean   : 12235961   Mean   :9.346e+09   Europe  :   0  \n 3rd Qu.:6.860   3rd Qu.: 13888152   3rd Qu.:6.552e+09   Oceania :   0  \n Max.   :8.450   Max.   :182201962   Max.   :1.935e+11                  \n NA's   :51      NA's   :51          NA's   :637                        \n                       region   \n Eastern Africa           :912  \n Western Africa           :912  \n Middle Africa            :456  \n Northern Africa          :342  \n Southern Africa          :285  \n Australia and New Zealand:  0  \n (Other)                  :  0  \n\n# determine the type of object \nclass(africandata)\n\n[1] \"data.frame\"\n\n\n\ninfant_mortality_data &lt;- data.frame(africandata$infant_mortality, africandata$life_expectancy) #making a dataframe for infant mortality\npopulation_data &lt;- data.frame(africandata$population, africandata$life_expectancy) #making a dataframe for infant mortality\n\n\n# get an overview of data structure\nstr(infant_mortality_data)\n\n'data.frame':   2907 obs. of  2 variables:\n $ africandata.infant_mortality: num  148 208 187 116 161 ...\n $ africandata.life_expectancy : num  47.5 36 38.3 50.3 35.2 ...\n\n# get a summary of data\nsummary(infant_mortality_data)\n\n africandata.infant_mortality africandata.life_expectancy\n Min.   : 11.40               Min.   :13.20              \n 1st Qu.: 62.20               1st Qu.:48.23              \n Median : 93.40               Median :53.98              \n Mean   : 95.12               Mean   :54.38              \n 3rd Qu.:124.70               3rd Qu.:60.10              \n Max.   :237.40               Max.   :77.60              \n NA's   :226                                             \n\n\n\n# get an overview of data structure\nstr(population_data)\n\n'data.frame':   2907 obs. of  2 variables:\n $ africandata.population     : num  11124892 5270844 2431620 524029 4829291 ...\n $ africandata.life_expectancy: num  47.5 36 38.3 50.3 35.2 ...\n\n# get a summary of data\nsummary(population_data)\n\n africandata.population africandata.life_expectancy\n Min.   :    41538      Min.   :13.20              \n 1st Qu.:  1605232      1st Qu.:48.23              \n Median :  5570982      Median :53.98              \n Mean   : 12235961      Mean   :54.38              \n 3rd Qu.: 13888152      3rd Qu.:60.10              \n Max.   :182201962      Max.   :77.60              \n NA's   :51                                        \n\n\n\n#ploting infant mortality vs life expectancy\nplot(infant_mortality_data$africandata.infant_mortality, infant_mortality_data$africandata.life_expectancy)\n\n\n\n\n\n\n\n\n\n #ploting population vs life expectancy\n plot(log(population_data$africandata.population, base = 2), population_data$africandata.life_expectancy)\n\n\n\n\n\n\n\n# In both plots, streak patterns occur because each country contributes multiple times across different years and they tend to grow.\n\n\nmissingyears &lt;- is.na(infant_mortality_data$africandata.infant_mortality)\n\nmissingyears_df &lt;- data.frame(africandata$year, missingyears)\n\nplot(missingyears_df)\n\n\n\n\n\n\n\n\n\nafricandata_year2000 &lt;- subset(africandata, year %in% 2000)\n\n# get an overview of data structure\nstr(africandata_year2000)\n\n'data.frame':   51 obs. of  9 variables:\n $ country         : Factor w/ 185 levels \"Albania\",\"Algeria\",..: 2 3 18 22 26 27 29 31 32 33 ...\n $ year            : int  2000 2000 2000 2000 2000 2000 2000 2000 2000 2000 ...\n $ infant_mortality: num  33.9 128.3 89.3 52.4 96.2 ...\n $ life_expectancy : num  73.3 52.3 57.2 47.6 52.6 46.7 54.3 68.4 45.3 51.5 ...\n $ fertility       : num  2.51 6.84 5.98 3.41 6.59 7.06 5.62 3.7 5.45 7.35 ...\n $ population      : num  31183658 15058638 6949366 1736579 11607944 ...\n $ gdp             : num  5.48e+10 9.13e+09 2.25e+09 5.63e+09 2.61e+09 ...\n $ continent       : Factor w/ 5 levels \"Africa\",\"Americas\",..: 1 1 1 1 1 1 1 1 1 1 ...\n $ region          : Factor w/ 22 levels \"Australia and New Zealand\",..: 11 10 20 17 20 5 10 20 10 10 ...\n\n# get a summary of data\nsummary(africandata_year2000)\n\n         country        year      infant_mortality life_expectancy\n Algeria     : 1   Min.   :2000   Min.   : 12.30   Min.   :37.60  \n Angola      : 1   1st Qu.:2000   1st Qu.: 60.80   1st Qu.:51.75  \n Benin       : 1   Median :2000   Median : 80.30   Median :54.30  \n Botswana    : 1   Mean   :2000   Mean   : 78.93   Mean   :56.36  \n Burkina Faso: 1   3rd Qu.:2000   3rd Qu.:103.30   3rd Qu.:60.00  \n Burundi     : 1   Max.   :2000   Max.   :143.30   Max.   :75.00  \n (Other)     :45                                                  \n   fertility       population             gdp               continent \n Min.   :1.990   Min.   :    81154   Min.   :2.019e+08   Africa  :51  \n 1st Qu.:4.150   1st Qu.:  2304687   1st Qu.:1.274e+09   Americas: 0  \n Median :5.550   Median :  8799165   Median :3.238e+09   Asia    : 0  \n Mean   :5.156   Mean   : 15659800   Mean   :1.155e+10   Europe  : 0  \n 3rd Qu.:5.960   3rd Qu.: 17391242   3rd Qu.:8.654e+09   Oceania : 0  \n Max.   :7.730   Max.   :122876723   Max.   :1.329e+11                \n                                                                      \n                       region  \n Eastern Africa           :16  \n Western Africa           :16  \n Middle Africa            : 8  \n Northern Africa          : 6  \n Southern Africa          : 5  \n Australia and New Zealand: 0  \n (Other)                  : 0  \n\n\n\n#replotting only year 2000\nplot(africandata_year2000$infant_mortality, africandata_year2000$life_expectancy)\n\n\n\n\n\n\n\nplot(log(africandata_year2000$population, base = 2), africandata_year2000$life_expectancy)\n\n\n\n\n\n\n\n\n\n#lm base on year 2000\n\nfit1 &lt;- lm(life_expectancy ~ infant_mortality, data = africandata_year2000)\nsummary(fit1)\n\n\nCall:\nlm(formula = life_expectancy ~ infant_mortality, data = africandata_year2000)\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-22.6651  -3.7087   0.9914   4.0408   8.6817 \n\nCoefficients:\n                 Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept)      71.29331    2.42611  29.386  &lt; 2e-16 ***\ninfant_mortality -0.18916    0.02869  -6.594 2.83e-08 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 6.221 on 49 degrees of freedom\nMultiple R-squared:  0.4701,    Adjusted R-squared:  0.4593 \nF-statistic: 43.48 on 1 and 49 DF,  p-value: 2.826e-08\n\nfit2 &lt;- lm(life_expectancy ~ population, data = africandata_year2000)\nsummary(fit2)\n\n\nCall:\nlm(formula = life_expectancy ~ population, data = africandata_year2000)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-18.429  -4.602  -2.568   3.800  18.802 \n\nCoefficients:\n             Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept) 5.593e+01  1.468e+00  38.097   &lt;2e-16 ***\npopulation  2.756e-08  5.459e-08   0.505    0.616    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 8.524 on 49 degrees of freedom\nMultiple R-squared:  0.005176,  Adjusted R-squared:  -0.01513 \nF-statistic: 0.2549 on 1 and 49 DF,  p-value: 0.6159\n\n\n\n#This section contributed by Riley Herber.\n\n#More Data Exploration\n\n#Analysis of Concentrations of the three main greenhouse gases carbon dioxide, methane and nitrous oxide from 1-2000 CE.\n\n#summary(greenhouse_gases)\ndata &lt;- greenhouse_gases\n\n#creates a data.frame object for each gas including year and concentrations\nCO2 &lt;- greenhouse_gases[greenhouse_gases$gas == \"CO2\", ]\nCH4 &lt;- greenhouse_gases[greenhouse_gases$gas == \"CH4\", ]\nN2O &lt;- greenhouse_gases[greenhouse_gases$gas == \"N2O\", ]\n\n\n# set up an empty plot using all data to get axis limits\nplot(\n  greenhouse_gases$year,\n  greenhouse_gases$concentration,\n  type = \"n\",                \n  xlab = \"Year\",\n  ylab = \"Concentration\",\n  main = \"Greenhouse Gas Concentrations Over Time\"\n)\n\n# add lines for each gas\nlines(CO2$year, CO2$concentration, col = \"blue\", lwd = 2)\nlines(CH4$year, CH4$concentration, col = \"green\", lwd = 2)\nlines(N2O$year, N2O$concentration, col = \"red\", lwd = 2)\n\n# add legend\nlegend(\n  \"topleft\",\n  legend = c(\"CO2\", \"CH4\", \"N2O\"),\n  col = c(\"blue\", \"green\", \"red\"),\n  lwd = 2\n)\n\n\n\n\n\n\n\n#ChatGPT was used to help me learn how to do multi-panel figure (code below)\npar(mfrow = c(3, 1))  # plot with 3 rows, 1 column\n\nplot(CO2$year, CO2$concentration, type = \"l\",\n     main = \"CO2\", xlab = \"Year\", ylab = \"Concentration\")\n\nplot(CH4$year, CH4$concentration, type = \"l\",\n     main = \"CH4\", xlab = \"Year\", ylab = \"Concentration\")\n\nplot(N2O$year, N2O$concentration, type = \"l\",\n     main = \"N2O\", xlab = \"Year\", ylab = \"Concentration\")\n\n\n\n\n\n\n\npar(mfrow = c(1, 1))  # reset layout\n\nfit3 &lt;- lm(concentration ~ year * gas, data = greenhouse_gases)\nsummary(fit3)\n\n\nCall:\nlm(formula = concentration ~ year * gas, data = greenhouse_gases)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-128.95   -6.83   -1.70    3.33  868.77 \n\nCoefficients:\n              Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept)  558.37400   15.44941  36.142  &lt; 2e-16 ***\nyear           0.13813    0.01328  10.401  &lt; 2e-16 ***\ngasCO2      -285.06103   21.84876 -13.047  &lt; 2e-16 ***\ngasN2O      -297.83861   21.84876 -13.632  &lt; 2e-16 ***\nyear:gasCO2   -0.12940    0.01878  -6.890 3.39e-11 ***\nyear:gasN2O   -0.13027    0.01878  -6.936 2.56e-11 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 76.67 on 294 degrees of freedom\nMultiple R-squared:  0.879, Adjusted R-squared:  0.877 \nF-statistic: 427.2 on 5 and 294 DF,  p-value: &lt; 2.2e-16\n\n\nAnalysis of greenhouse gas concentrations from 1–2000 CE revealed significant temporal trends that differed by gas type. Methane (CH4) exhibited a strong positive increase over time (CH4 slope = 0.138 per year and p &lt; 0.001), whereas carbon dioxide (CO2) and nitrous oxide (N2O) had much lower baseline concentrations and minimal growth (CO2 adjusted slope = 0.009 per year; N2O adjusted slope = 0.008 per year; both p &lt; 0.001). The interaction between year and gas was highly significant, indicating that the rate of increase varied across gases. Overall, the model explained 88% of the variance in concentrations (adjusted R-squared = 0.877), highlighting that CH4 has risen much more rapidly than CO2 or N2O over the past two millennia."
  },
  {
    "objectID": "aboutme.html",
    "href": "aboutme.html",
    "title": "About me",
    "section": "",
    "text": "Hello! I am Marco Reina, I am PhD student at the Department of Poultry Science. My work focuses on reducing Salmonella from poultry enviroments.\nI am originally from El Salvador, one of the smallest countries in the Americas, located in Central America. I earned my bachelor’s degree in food science in Honduras and then worked in the poultry industry in El Salvador for about three years as a farm supervisor. In this role, I learned a lot about raising chickens for food production and ensuring food safety at the processing plant.\nBased on this experience, I decided to pursue a doctoral degree in the US with a focus on food safety. I try to understand and quantify the effects of enviromental and biological factors affecting the persistant of pathogens in food processing. I would like to enhance the analysis of the microbiology data we collect. I am a beginner in statistics and have mostly learned and applied t-tests, ANOVAs, chi-square tests, and Fisher’s exact tests. I have used both SAS and R for my work; however, I have never taken a formal class in R. I hope to gain a better understanding of how to improve my analyses and take them to the next level.\n\n\nA website that you might find interesting if you are passionate about food safety is the BEAM Dashboard\nThe BEAM (Bacteria, Enterics, Ameba, and Mycotics) Dashboard is an interactive platform for visualizing data on foodborne and waterborne pathogens. It tracks pathogen trends, serotypes, antimicrobial resistance, and multistate outbreaks, along with data from NARMS and NORS to support illness prevention efforts."
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "My website and data analysis portfolio",
    "section": "",
    "text": "Hello I am Marco Reina and you are visiting my portafolio!\nWelcome to my website and data analysis portfolio.\n\nPlease use the Menu Bar above to look around.\nHave fun!"
  },
  {
    "objectID": "data-exercise/data-exercise.html",
    "href": "data-exercise/data-exercise.html",
    "title": "Data Exercise",
    "section": "",
    "text": "Disclaimer: used ChatGPT to generate code for synthetic data\n\nlibrary(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.2     ✔ tibble    3.2.1\n✔ lubridate 1.9.4     ✔ tidyr     1.3.1\n✔ purrr     1.1.0     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nlibrary(skimr)\n\n\nset.seed(123)\n\nn &lt;- 500\n\nsynthetic_data &lt;- tibble(\n  age = rnorm(n, mean = 35, sd = 10),\n  exposure = rbinom(n, size = 1, prob = 0.4),\n  dose = runif(n, 0, 10)\n) %&gt;%\n  mutate(\n    # Linear outcome with known effects\n    outcome_continuous =\n      5 +\n      0.4 * age +        # age effect\n      2.5 * exposure +  # exposure effect\n      1.2 * dose +      # dose effect\n      rnorm(n, 0, 5),\n\n    # Logistic outcome (binary)\n    outcome_binary =\n      rbinom(\n        n,\n        size = 1,\n        prob = plogis(\n          -6 +\n          0.05 * age +\n          1.3 * exposure +\n          0.25 * dose\n        )\n      )\n  )\n\n\nskim(synthetic_data)\n\n\nData summary\n\n\nName\nsynthetic_data\n\n\nNumber of rows\n500\n\n\nNumber of columns\n5\n\n\n_______________________\n\n\n\nColumn type frequency:\n\n\n\nnumeric\n5\n\n\n________________________\n\n\n\nGroup variables\nNone\n\n\n\nVariable type: numeric\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmean\nsd\np0\np25\np50\np75\np100\nhist\n\n\n\n\nage\n0\n1\n35.35\n9.73\n8.39\n29.25\n35.21\n41.85\n67.41\n▁▆▇▃▁\n\n\nexposure\n0\n1\n0.38\n0.48\n0.00\n0.00\n0.00\n1.00\n1.00\n▇▁▁▁▅\n\n\ndose\n0\n1\n5.03\n2.88\n0.05\n2.58\n4.99\n7.53\n9.96\n▇▇▇▇▇\n\n\noutcome_continuous\n0\n1\n26.24\n7.39\n5.26\n21.02\n26.34\n31.03\n49.03\n▁▅▇▃▁\n\n\noutcome_binary\n0\n1\n0.11\n0.31\n0.00\n0.00\n0.00\n0.00\n1.00\n▇▁▁▁▁\n\n\n\n\n\n\nsynthetic_data &lt;- synthetic_data %&gt;%\n  mutate(\n    age_group = cut(\n      age,\n      breaks = seq(15, 75, by = 10),\n      include.lowest = TRUE\n    )\n  )\n\nage_outcome_summary &lt;- synthetic_data %&gt;%\n  group_by(age_group) %&gt;%\n  summarize(\n    proportion_positive = mean(outcome_binary),\n    n = n(),\n    .groups = \"drop\"\n  )\n\n\nplot1 &lt;- ggplot(synthetic_data, aes(x = dose, y = outcome_continuous, color = age_group)) +\n  geom_point(alpha = 0.4) +\n  theme_bw()\n\nplot1\n\n\n\n\n\n\n\n\n\nplot2 &lt;- synthetic_data %&gt;%\n  filter(outcome_binary == 1) %&gt;%\n  ggplot(aes(x = age_group)) +\n  geom_bar() +\n  labs(\n    x = \"Age group\",\n    y = \"Count of positive outcomes\",\n    title = \"Count of binary outcomes by age group\"\n  ) +\n  theme_minimal() +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n\nplot2\n\n\n\n\n\n\n\n\n\nlm_fit &lt;- lm(\n  outcome_continuous ~ age + exposure + dose,\n  data = synthetic_data\n)\n\nsummary(lm_fit)\n\n\nCall:\nlm(formula = outcome_continuous ~ age + exposure + dose, data = synthetic_data)\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-14.0025  -3.6045   0.1997   3.3425  16.9875 \n\nCoefficients:\n            Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept)  4.48969    0.92793   4.838 1.75e-06 ***\nage          0.43068    0.02285  18.847  &lt; 2e-16 ***\nexposure     2.55416    0.45829   5.573 4.11e-08 ***\ndose         1.10777    0.07709  14.370  &lt; 2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 4.963 on 496 degrees of freedom\nMultiple R-squared:  0.5518,    Adjusted R-squared:  0.549 \nF-statistic: 203.5 on 3 and 496 DF,  p-value: &lt; 2.2e-16"
  },
  {
    "objectID": "cdcdata-exercise/cdcdata-exercise.html",
    "href": "cdcdata-exercise/cdcdata-exercise.html",
    "title": "Description of the data",
    "section": "",
    "text": "Description of the data\nThe BEAM (Bacteria, Enterics, Amoeba, and Mycotics) Dashboard is an interactive tool to access and visualize data from the System for Enteric Disease Response, Investigation, and Coordination (SEDRIC). The BEAM Dashboard provides timely data on pathogen trends and serotype details to inform work to prevent illnesses from food and animal contact. Last updated: January 20, 2026 Data provided by the Division of Foodborne, Waterborne, and Environmental Diseases (DFWED)\nLicense Public Domain U.S. Government Source Link https://www.usa.gov/government-works\n\n\nLoading data\n\nlibrary(here)\n\nhere() starts at /Users/elleadams/marcoreina-portafolio\n\ncdcdata &lt;- read.csv(here(\"cdcdata-exercise\", \"BEAM_Dashboard_-_Report_Data_20260211.csv\"))\n\n\n\nData exploration\n\n# get an overview of data structure\nstr(cdcdata)\n\n'data.frame':   237493 obs. of  13 variables:\n $ Year                                                          : chr  \"2,025\" \"2,025\" \"2,025\" \"2,025\" ...\n $ Month                                                         : int  1 1 1 1 1 1 1 1 1 1 ...\n $ State                                                         : chr  \"AL\" \"AL\" \"AL\" \"AL\" ...\n $ Source.Type                                                   : chr  \"Animal\" \"Animal\" \"Food\" \"Food\" ...\n $ Source.Site                                                   : chr  \"Other\" \"Other\" \"Other\" \"Other\" ...\n $ Pathogen                                                      : chr  \"Campylobacter\" \"Campylobacter\" \"Campylobacter\" \"Campylobacter\" ...\n $ Serotype.Species                                              : chr  \"coli\" \"jejuni\" \"coli\" \"jejuni\" ...\n $ Number.of.isolates                                            : int  3 1 18 11 4 2 1 11 4 8 ...\n $ Outbreak.associated.isolates                                  : int  NA NA NA NA NA NA NA NA NA NA ...\n $ New.multistate.outbreaks                                      : int  NA NA NA NA NA NA NA NA NA NA ...\n $ New.multistate.outbreaks...US                                 : int  NA NA NA NA NA NA NA NA NA NA ...\n $ X..Isolates.with.clinically.important.antimicrobial.resistance: int  NA NA NA NA NA NA NA NA NA NA ...\n $ Number.of.sequenced.isolates.analyzed.by.NARMS                : int  NA NA NA NA NA NA NA NA NA NA ...\n\n# get a summary of data\nsummary(cdcdata)\n\n     Year               Month           State           Source.Type       \n Length:237493      Min.   : 1.000   Length:237493      Length:237493     \n Class :character   1st Qu.: 4.000   Class :character   Class :character  \n Mode  :character   Median : 7.000   Mode  :character   Mode  :character  \n                    Mean   : 6.717                                        \n                    3rd Qu.: 9.000                                        \n                    Max.   :12.000                                        \n                                                                          \n Source.Site          Pathogen         Serotype.Species   Number.of.isolates\n Length:237493      Length:237493      Length:237493      Min.   :  1.000   \n Class :character   Class :character   Class :character   1st Qu.:  1.000   \n Mode  :character   Mode  :character   Mode  :character   Median :  1.000   \n                                                          Mean   :  2.633   \n                                                          3rd Qu.:  2.000   \n                                                          Max.   :283.000   \n                                                                            \n Outbreak.associated.isolates New.multistate.outbreaks\n Min.   :  1.000              Min.   :1.000           \n 1st Qu.:  1.000              1st Qu.:1.000           \n Median :  1.000              Median :1.000           \n Mean   :  2.242              Mean   :1.086           \n 3rd Qu.:  2.000              3rd Qu.:1.000           \n Max.   :210.000              Max.   :6.000           \n NA's   :217332               NA's   :227612          \n New.multistate.outbreaks...US\n Min.   :1.000                \n 1st Qu.:1.000                \n Median :1.000                \n Mean   :1.026                \n 3rd Qu.:1.000                \n Max.   :4.000                \n NA's   :236234               \n X..Isolates.with.clinically.important.antimicrobial.resistance\n Min.   :  1.000                                               \n 1st Qu.:  1.000                                               \n Median :  1.000                                               \n Mean   :  2.834                                               \n 3rd Qu.:  2.000                                               \n Max.   :109.000                                               \n NA's   :235384                                                \n Number.of.sequenced.isolates.analyzed.by.NARMS\n Min.   :  1.000                               \n 1st Qu.:  1.000                               \n Median :  1.000                               \n Mean   :  2.244                               \n 3rd Qu.:  2.000                               \n Max.   :206.000                               \n NA's   :229830                                \n\n\n\n\nData cleaning\n\n#step 1 removing mostly empty columns\ncdcdata_1 &lt;- subset(cdcdata, select = -c(Outbreak.associated.isolates, New.multistate.outbreaks, New.multistate.outbreaks...US, X..Isolates.with.clinically.important.antimicrobial.resistance, Number.of.sequenced.isolates.analyzed.by.NARMS))\n\n#step 2 dropping NA values\ncdcdata_2 &lt;- na.omit(cdcdata_1)\n\n\n\nData re-exploration\n\n# get an overview of data structure\nstr(cdcdata_2)\n\n'data.frame':   237486 obs. of  8 variables:\n $ Year              : chr  \"2,025\" \"2,025\" \"2,025\" \"2,025\" ...\n $ Month             : int  1 1 1 1 1 1 1 1 1 1 ...\n $ State             : chr  \"AL\" \"AL\" \"AL\" \"AL\" ...\n $ Source.Type       : chr  \"Animal\" \"Animal\" \"Food\" \"Food\" ...\n $ Source.Site       : chr  \"Other\" \"Other\" \"Other\" \"Other\" ...\n $ Pathogen          : chr  \"Campylobacter\" \"Campylobacter\" \"Campylobacter\" \"Campylobacter\" ...\n $ Serotype.Species  : chr  \"coli\" \"jejuni\" \"coli\" \"jejuni\" ...\n $ Number.of.isolates: int  3 1 18 11 4 2 1 11 4 8 ...\n - attr(*, \"na.action\")= 'omit' Named int [1:7] 44698 61352 61353 64636 79510 79511 80672\n  ..- attr(*, \"names\")= chr [1:7] \"44698\" \"61352\" \"61353\" \"64636\" ...\n\n# get a summary of data\nsummary(cdcdata_2)\n\n     Year               Month           State           Source.Type       \n Length:237486      Min.   : 1.000   Length:237486      Length:237486     \n Class :character   1st Qu.: 4.000   Class :character   Class :character  \n Mode  :character   Median : 7.000   Mode  :character   Mode  :character  \n                    Mean   : 6.717                                        \n                    3rd Qu.: 9.000                                        \n                    Max.   :12.000                                        \n Source.Site          Pathogen         Serotype.Species   Number.of.isolates\n Length:237486      Length:237486      Length:237486      Min.   :  1.000   \n Class :character   Class :character   Class :character   1st Qu.:  1.000   \n Mode  :character   Mode  :character   Mode  :character   Median :  1.000   \n                                                          Mean   :  2.633   \n                                                          3rd Qu.:  2.000   \n                                                          Max.   :283.000   \n\n\n\n\nNumber of isolates per year\n\nlibrary(ggplot2)\n\nWarning: package 'ggplot2' was built under R version 4.5.2\n\nggplot(cdcdata_2, aes(x = Year, fill = Pathogen)) + geom_bar() + theme_bw()\n\n\n\n\n\n\n\nggplot(cdcdata_2, aes(x = Year)) + geom_bar(fill =\"lightblue3\") + theme_bw() + facet_wrap( ~ Pathogen, scales = \"free\")\n\n\n\n\n\n\n\n\n\n\nTrends by month\n\nggplot(cdcdata_2, aes(x = Month, color = Year)) + geom_line(stat = \"count\") + theme_bw() + facet_wrap( ~ Pathogen, scales = \"free\")\n\n\n\n\n\n\n\n\n\n\nComparing pathogens per state\n\nggplot(cdcdata_2, aes(x = State, fill = Pathogen)) + geom_bar() + theme_bw() + facet_wrap(~ Pathogen, ncol = 1, scales = \"free\") + theme(axis.text.x = element_text(angle = 90), strip.text.x = element_blank(), legend.position = \"top\") \n\n\n\n\n\n\n\n\n\n\nSource type\n\nggplot(cdcdata_2, aes(x = Year, fill = Pathogen)) + geom_bar() + theme_bw() + facet_grid(Source.Type ~ Pathogen, scales = \"free\") + theme(legend.position = \"none\")\n\n\n\n\n\n\n\n\n\n\nThis part contibuted by Elle Adams\nStart with loading necessary packages\n\nlibrary(dplyr)\n\n\nAttaching package: 'dplyr'\n\n\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n\n\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n\nlibrary(tidyverse)\n\nWarning: package 'purrr' was built under R version 4.5.2\n\n\nWarning: package 'lubridate' was built under R version 4.5.2\n\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ lubridate 1.9.5     ✔ tibble    3.3.0\n✔ purrr     1.2.1     ✔ tidyr     1.3.1\n✔ readr     2.1.5     \n\n\n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nlibrary(purrr)\nlibrary(ggplot2)\nlibrary(lubridate)\n\nGenerating synthetic data, following outline from week 4B class content.\n\n#Set seed for reproducibility\nset.seed(123)\n\n#Number of observations to generate. The BEAM data had over 200,000 rows. I do not need the synthetic data to have this many, I will start with 500 to see how it goes. \nn_obs &lt;- 500\n\n#Creating empty dataframe with placeholders\nsyn_data &lt;- data.frame(Year = character(n_obs), Month = integer(n_obs), State = character(n_obs), Source.Type = character(n_obs), Source.Site = character(n_obs), Pathogen = character(n_obs), Serotype.Species = character(n_obs), Number.of.isolates = integer(n_obs))\n\n#Variable 1: Year\nstart_date &lt;- ymd(\"2018-01-01\")\nend_date   &lt;- ymd(\"2026-02-12\")\n\nrandom_dates &lt;- sample(seq(start_date, end_date, by = \"day\"), n_obs, replace = TRUE)\n\nsyn_data$Year &lt;- year(random_dates)\n\n#Variable 2: Month \nsyn_data$Month &lt;- month(random_dates)\n\n#Variable 3: State - after some online searching, there seems to be a number of ways to do this, least to most accurate, I think since I did the dates truly just random, I will do the same for the states. \nsyn_data$State &lt;- sample(state.abb, n_obs, replace = TRUE)\n\n#Variable 4: Source.Type - start by identifying possible answers for the source type in the original dataset to use to populate synthetic dataset\nunique(cdcdata_2$Source.Type)\n\n[1] \"Animal\"      \"Food\"        \"Human\"       \"Environment\"\n\nsyn_data$Source.Type &lt;- map_chr(sample(c(\"Human\", \"Animal\", \"Food\", \"Environment\"), n_obs, replace = TRUE), as.character)\n\n#Variable 5: Source.Site - same process as variable 4\nunique(cdcdata_2$Source.Site)\n\n[1] \"Other\" \"Stool\" \"Blood\" \"Urine\"\n\nsyn_data$Source.Site &lt;- map_chr(sample(c(\"Stool\", \"Urine\", \"Blood\", \"Other\"), n_obs, replace = TRUE), as.character)\n\n#Variable 6: Pathogen - same process as variables 4 & 5 - ran into trouble and wouldn't populate the column like the previous ones did, googling said I don't actually need the map_chr function. \nunique(cdcdata_2$Pathogen)\n\n[1] \"Campylobacter\" \"STEC\"          \"Salmonella\"    \"Shigella\"     \n[5] \"Vibrio\"       \n\nsyn_data$Pathogen &lt;- sample(c(\"Campylobacter\", \"STEC\", \"Salmonella\", \"Shigella\", \"Vibrio\"), n_obs, replace = TRUE) \n\n#Variable 7: Serotype.Species - this one is different since it depends on varaible 6 - counting the number of combinations to start\ncombo_count &lt;- cdcdata_2 %&gt;% count(Pathogen, Serotype.Species)\n###That's a lot, too many to type individually. Let's try this: \nserotypes &lt;- cdcdata_2 %&gt;% distinct(Pathogen, Serotype.Species) %&gt;% group_by(Pathogen) %&gt;% summarise(Serotypes = list(Serotype.Species))\n###Asked ChatGPT for help with this joining step\nsyn_data &lt;- syn_data %&gt;% left_join(serotypes, by = \"Pathogen\") %&gt;% rowwise() %&gt;% mutate(Serotype.Species = sample(Serotypes, 1)) %&gt;% ungroup() %&gt;% select(-Serotypes)\n\n#Variable 8: Number.of.isolates - making it between the max and min from the original datset\nmax(cdcdata_2$Number.of.isolates)\n\n[1] 283\n\nmin(cdcdata_2$Number.of.isolates)\n\n[1] 1\n\nsyn_data$Number.of.isolates &lt;- round(runif(n_obs, min = 1, max = 283), 1)\n\n#Check out the dataframe \nhead(syn_data)\n\n# A tibble: 6 × 8\n   Year Month State Source.Type Source.Site Pathogen      Serotype.Species    \n  &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;       &lt;chr&gt;       &lt;chr&gt;         &lt;chr&gt;               \n1  2024     9 AZ    Human       Urine       Shigella      Shigella dysenteriae\n2  2024    11 NC    Human       Blood       Shigella      Shigella boydii     \n3  2024     2 NJ    Environment Urine       STEC          :H18                \n4  2019     6 ND    Food        Blood       Vibrio        vulnificus/Missing  \n5  2018     7 AK    Human       Other       Vibrio        cholerae/O1/Ctx-    \n6  2023     1 SC    Animal      Stool       Campylobacter coli                \n# ℹ 1 more variable: Number.of.isolates &lt;dbl&gt;\n\n\nOkay, that was more work than I expected, but now the synthetic dataframe exists and is filled.\nNow to explore the data\n\n#Following Marco's lead, number of isolates per year - The first one is a stacked bar graph for total isolates, colored by which pathogen. The second is separate graphs for each pathogen, showing the number of isolates for it each year. \nggplot(syn_data, aes(x = Year, fill = Pathogen)) + \n    geom_bar()\n\n\n\n\n\n\n\nggplot(syn_data, aes(x = Year)) + \n    geom_bar() +\n    facet_wrap( ~ Pathogen, scales = \"free\")\n\n\n\n\n\n\n\n\nFor the stacked bar graph, the real data shows dominance by Salmonella species, whereas the synthetic data is much more evenly distributed. For the individual bar graphs, because I made the sclaes so different it is hard to tell proportionally how different the two are in terms of nnumber of isolates. But based on the first graph, I doubt thye are very similar at all.\n\n#Next Marco did trends by month \nsyn_data$Year &lt;- as.character(syn_data$Year)\nggplot(syn_data, aes(x = Month, color = Year)) + \n    geom_line(stat = \"count\") +\n    facet_wrap( ~ Pathogen, scales = \"free\")\n\n\n\n\n\n\n\n\nWow this is all over the place, again probably because it’s just random, I didn’t tell it anything about real world trends and populations (I don’t know how I would do this).\n\n#Next was comparing pathogens per state \nggplot(syn_data, aes(x = State, fill = Pathogen)) + \n    geom_bar() +\n    facet_wrap(~ Pathogen, ncol = 1, scales = \"free\")\n\n\n\n\n\n\n\n\nRandom, again, of course.\n\n#Last was source type\nggplot(syn_data, aes(x = Year, fill = Pathogen)) + \n    geom_bar() +\n    facet_grid(Source.Type ~ Pathogen, scales = \"free\")\n\n\n\n\n\n\n\n\nVery different from the real data, likely due to seasonal trends, and bacterial behavior(like where they are often found, etc) that I didn’t tell the code to account for. Again, I don’t even know how one would do this. For a random sampling it honestly looks like they sampled among the 5 possible pathogens fairly evenly, which I guess it could look more like that since I told it to do 500 samples."
  }
]